(()=>{"use strict";var e=document.querySelector("#element-template").content;function t(e){e.remove()}function n(e){e.target.classList.toggle("element__like-button_active")}function o(t,n){var o=n.deleteCard,r=n.likeCard,c=n.handleImageClick,l=e.querySelector(".element").cloneNode(!0),u=l.querySelector(".element__title"),i=l.querySelector(".element__image");return u.textContent=t.name,i.src=t.link,i.alt="Фотография: ".concat(t.name),l.querySelector(".element__delete-button").addEventListener("click",(function(){o(l)})),l.querySelector(".element__like-button").addEventListener("click",r),l.querySelector(".element__image").addEventListener("click",c),l}function r(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?function(e,t){e.classList.remove(t.inactiveButtonClass),e.disabled=!1}(t,n):c(t,n)}function c(e,t){e.classList.add(t.inactiveButtonClass),e.disabled=!0}function l(e){e.classList.add("popup_opened"),window.addEventListener("keydown",u)}function u(e){if("Escape"===e.key){var t=document.querySelector(".popup_opened");t&&i(t)}}function i(e){e.classList.remove("popup_opened"),window.removeEventListener("keydown",u)}var a,p=document.querySelector(".profile-info__edit-button"),s=document.querySelector(".profile__add-button"),d=document.querySelector(".popup_edit_profile"),m=document.querySelector(".popup_add_element"),_=document.querySelector(".popup_image_active"),f=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_job"),y=document.querySelector(".popup__input_type_place"),S=document.querySelector(".popup__input_type_link"),k=document.querySelector(".profile-info__title"),q=document.querySelector(".profile-info__intro"),C=document.querySelectorAll(".popup__close"),L=document.querySelector(".elements__container"),g=(document.querySelector("#element-template").content,document.querySelector(".popup__image")),E=document.querySelector(".popup__description"),b=m.querySelector(".popup__button"),h=document.forms["profile-info"],x=document.forms["card-form"],j={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function w(e){l(_);var t=e.target,n=t.closest(".element").querySelector(".element__title").textContent;E.textContent=n,g.src=t.src,g.alt="Фотография: ".concat(n)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var r=o({name:e.name,link:e.link},{deleteCard:t,likeCard:n,handleImageClick:w});L.append(r)})),x.addEventListener("submit",(function(e){e.preventDefault();var r=o({name:y.value,link:S.value},{deleteCard:t,likeCard:n,handleImageClick:w});L.prepend(r),e.target.reset(),i(m)})),C.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return i(t)}))})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup")&&i(e)}))})),a=j,Array.from(document.querySelectorAll(a.formSelector)).forEach((function(e){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);r(n,o,t),n.forEach((function(c){c.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){t.classList.remove(n.inputErrorClass);var o=e.querySelector(".".concat(t.id,"-error"));o.textContent="",o.classList.remove(n.errorClass)}(e,t,n):function(e,t,n){t.classList.add(n.inputErrorClass);var o=e.querySelector(".".concat(t.id,"-error"));o.textContent=t.validationMessage,o.classList.add(n.errorClass)}(e,t,n)}(e,c,t),r(n,o,t)}))}))}(e,a)})),h.addEventListener("submit",(function(e){e.preventDefault(),k.textContent=f.value,q.textContent=v.value,i(d)})),p.addEventListener("click",(function(){l(d),f.value=k.textContent,v.value=q.textContent})),s.addEventListener("click",(function(){l(m),c(b,j)}))})();